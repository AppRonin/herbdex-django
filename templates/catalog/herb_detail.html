{% extends 'base.html' %} {% load static %}

<!-- Title -->
{% block title %} Herbdex | {{ herb.name }} {% endblock %}

<!-- Static -->
{% block static %}
<link rel="stylesheet" href="{% static 'css/herb_detail.css' %}" />
{% endblock %}

<!-- Content -->
{% block content %}
<!-- HERO HEADER -->
<section class="cover-image text-light mb-4">
  <div class="container py-5">
    <h1 class="fw-bold mb-2 display-5">{{ herb.name }}</h1>
    <p class="lead opacity-75 mb-0">Botanical Encyclopedia Entry</p>
  </div>
</section>

<div class="container pb-5">
  <div class="row g-4">
    <!-- SIDEBAR (ENCYCLOPEDIA BOX) -->
    <aside class="col-lg-4">
      <!-- Plant Image Card -->
      <div class="card shadow-sm border-0 mb-4">
        <img
          src="{{ herb.detail_image.url }}"
          class="card-img-top object-fit-cover"
          style="aspect-ratio: 1/1"
          alt="{{ herb.name }}"
        />
      </div>

      <!-- Quick Facts -->
      <div class="card shadow-sm border-0 mb-4">
        <div class="card-body">
          <h5 class="border-bottom pb-2 mb-3">Quick Facts</h5>

          <ul class="list-unstyled mb-0">
            <li class="mb-2">
              <small class="text-muted">Scientific Name</small><br />
              <strong>{{ herb.scientific_name }}</strong>
            </li>

            <li class="mb-2">
              <small class="text-muted">Category</small><br />
              {{ herb.category.name }}
            </li>

            <li class="mb-2">
              <small class="text-muted">Created</small><br />
              {{ herb.created_at|date:"M d, Y" }}
            </li>

            <li>
              <small class="text-muted">Updated</small><br />
              {{ herb.updated_at|date:"M d, Y" }}
            </li>
          </ul>
        </div>
      </div>
    </aside>

    <!-- MAIN ARTICLE -->
    <main class="col-lg-8">
      <!-- Overview -->
      <article class="card shadow-sm border-0 mb-4">
        <div class="card-body p-4">
          <h3 class="mb-3">Overview</h3>
          <p class="lead mb-0">{{ herb.overview }}</p>
        </div>
      </article>

      <!-- Medicinal Uses -->
      <section class="card shadow-sm border-0 mb-4">
        <div class="card-body p-4">
          <h4 class="mb-3">Medicinal Uses</h4>
          <div class="row g-3">
            {% for medical_use in herb.medical_uses.all %}
            <div class="col-md-6 d-flex">
              <div class="p-3 bg-light rounded w-100">
                <strong>{{ medical_use.name }}</strong>

                <ul class="mb-0">
                  {% for obs in medical_use.observations.all %}
                  <li class="mb-0 small">{{ obs.content }}</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </section>
    </main>
  </div>
</div>

{% endblock %}
